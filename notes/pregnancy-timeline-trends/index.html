<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Pregnancy Timeline Trends |</title><meta name=keywords content><meta name=description content="Live demo: pregnancy.herdagdelen.com
This is a project that has been on my mind for 14 years, ever since we were expecting our first child in 2012. The idea is to create an interactive tool that allows us to explore what topics expecting parents discuss over the course of a pregnancy. I wanted to see how the emotions, concerns, information needs, and experiences of expecting parents evolve from conception to birth and into the early months of parenthood. The underlying data comes from public pregnancy discussion forums where posts are organized by gestational week."><meta name=author content="Amaç Herdağdelen"><link rel=canonical href=//www.herdagdelen.com/notes/pregnancy-timeline-trends/><link crossorigin=anonymous href=/assets/css/stylesheet.css rel="preload stylesheet" as=style><link rel=icon href=//www.herdagdelen.com/favicon.ico><link rel=icon type=image/png sizes=16x16 href=//www.herdagdelen.com/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=//www.herdagdelen.com/favicon-32x32.png><link rel=apple-touch-icon href=//www.herdagdelen.com/apple-touch-icon.png><link rel=mask-icon href=//www.herdagdelen.com/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=//www.herdagdelen.com/notes/pregnancy-timeline-trends/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><script async src="https://www.googletagmanager.com/gtag/js?id=G-KNZ8N9W1RR"></script><script>var doNotTrack=!1,dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes";if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-KNZ8N9W1RR")}</script><meta property="og:url" content="//www.herdagdelen.com/notes/pregnancy-timeline-trends/"><meta property="og:site_name" content="Amaç Herdağdelen"><meta property="og:title" content="Pregnancy Timeline Trends"><meta property="og:description" content="Live demo: pregnancy.herdagdelen.com
This is a project that has been on my mind for 14 years, ever since we were expecting our first child in 2012. The idea is to create an interactive tool that allows us to explore what topics expecting parents discuss over the course of a pregnancy. I wanted to see how the emotions, concerns, information needs, and experiences of expecting parents evolve from conception to birth and into the early months of parenthood. The underlying data comes from public pregnancy discussion forums where posts are organized by gestational week."><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="notes"><meta property="article:published_time" content="2026-01-06T00:00:00+00:00"><meta property="article:modified_time" content="2026-01-06T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Pregnancy Timeline Trends"><meta name=twitter:description content="Live demo: pregnancy.herdagdelen.com
This is a project that has been on my mind for 14 years, ever since we were expecting our first child in 2012. The idea is to create an interactive tool that allows us to explore what topics expecting parents discuss over the course of a pregnancy. I wanted to see how the emotions, concerns, information needs, and experiences of expecting parents evolve from conception to birth and into the early months of parenthood. The underlying data comes from public pregnancy discussion forums where posts are organized by gestational week."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Notes","item":"//www.herdagdelen.com/notes/"},{"@type":"ListItem","position":2,"name":"Pregnancy Timeline Trends","item":"//www.herdagdelen.com/notes/pregnancy-timeline-trends/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Pregnancy Timeline Trends","name":"Pregnancy Timeline Trends","description":"Live demo: pregnancy.herdagdelen.com\nThis is a project that has been on my mind for 14 years, ever since we were expecting our first child in 2012. The idea is to create an interactive tool that allows us to explore what topics expecting parents discuss over the course of a pregnancy. I wanted to see how the emotions, concerns, information needs, and experiences of expecting parents evolve from conception to birth and into the early months of parenthood. The underlying data comes from public pregnancy discussion forums where posts are organized by gestational week.\n","keywords":[],"articleBody":"Live demo: pregnancy.herdagdelen.com\nThis is a project that has been on my mind for 14 years, ever since we were expecting our first child in 2012. The idea is to create an interactive tool that allows us to explore what topics expecting parents discuss over the course of a pregnancy. I wanted to see how the emotions, concerns, information needs, and experiences of expecting parents evolve from conception to birth and into the early months of parenthood. The underlying data comes from public pregnancy discussion forums where posts are organized by gestational week.\nSo what do these discussions actually look like across pregnancy? Let’s start with an example.\nThe Tool in Action Here is how the volume of discussions expressing anxiety changes over the course of pregnancy:\n(click here to see the live version)\nWe immediately see two peaks of anxiety-related discussions: one around weeks 5-8, which corresponds to the highest risk period for miscarriage, and another right before the due date, dropping sharply after birth.\nHow It Works The tool works by searching over clusters of semantically similar posts rather than individual posts. I’ve organized the 300K+ posts into about 3,000 topical clusters, each grouping discussions around specific themes that tend to emerge at particular stages of pregnancy. Below are a few example clusters with their LLM-generated labels and summaries:\nWhen you enter a broad query like “anxiety”, the tool finds clusters whose semantic meaning is close to your query (using cosine similarity between query and cluster embeddings). It then counts how many posts appear in those clusters at each gestational week, producing the timeline visualization we saw above. During this process the system never has to look at individual posts, making it fast, efficient, and privacy-friendly.\nRefined Search However, just seeing the evolution of a broad topic is not enough. I want to see how different sentiments or contexts around “anxiety” change over time. For this, you can run a refined search over LLM-generated, stylistic summaries of posts within the retrieved clusters only. For example, you can ask “Is OP worried about miscarriage?” and get an estimate of how many posts within the “anxiety” clusters match the refined query over time:\n(Link to this search)\nWe can see that worries about miscarriage peak sharply around weeks 6-8, which aligns with medical knowledge about miscarriage risks. After week 12, such worries drop off significantly. And the second mode of anxiety we saw before birth is absent here, indicating that those late-pregnancy anxieties are about different topics.\nTo explore another source of anxiety, you can ask “Is OP worried about c-section?” and see how that concern evolves over pregnancy:\n(Link to this search)\nDue to the limitations of the cross-encoder reranker models, we see there are some early-pregnancy posts that are incorrectly matched to the refined query. But, the tool allows you to select/deselect specific clusters and get more precise estimates while building confidence (or, if the model cannot capture the nuance, reducing the risk of being misled).\nDesign Principles Now that we have seen what the tool does, here are the three core principles that shaped its design:\nPrivacy-first: Even though the data is based on public pregnancy forums, I wanted to ensure that personally identifiable information is neither exposed nor stored in the tool once preprocessing is complete.\nHonesty and Transparency: The tool involves embeddings, dimensionality reduction, clustering, cross-encoder models, and other statistical estimation – techniques that add extra layers of inferential processing between the raw data and the final results which are prone to errors. I wanted to build a tool that did not hide its mistakes, but instead makes its limitations explicit to the user.\nCheap if not Free: I don’t want to pay for or maintain a server for this. That leaves out solutions that require a backend, limiting computation locally and offline.\nIn practice, here’s how these principles manifest in the tool:\nBy using LLM-generated summaries of sanitized post texts which were themselves generated via a privacy-preserving preprocessing pipeline, I can ensure the data sent to your browser does not contain any personally identifiable information.\nBy providing uncertainty estimates and showing example post summaries, and allowing you to select/deselect specific clusters from the interface, the tool maintains transparency about its limitations and allows you to make informed judgments about the results. If the reranker model is not capturing the nuance of your refined query well, you can see this from the example summaries and adjust your query or cluster selection accordingly.\nThis two-stage retrieval and refinement approach allows the tool to run efficiently in the browser without a backend server. For a tool that allows exploring a 300K+ post dataset with complex semantic queries, the system only needs to send less than 40MB of precomputed data (embeddings, cluster labels, post summaries, gestational week metadata) to your browser once. Subsequently a broad query only requires one API call to OpenRouter to get query embedding and a refinement query usually costs fractions of a cent in OpenRouter embedding and Novita AI cross-encoder API calls.\nConclusion Fourteen years after first wondering what was on other expectant parents’ minds, I finally have a tool to explore that question. Whether you’re curious about when certain concerns peak or how common your experience is, I hope this tool offers some insight. Here is one pattern I found particularly interesting: pregnancy cravings.\nAs expected, discussions about pregnancy cravings peak at the end of the first trimester (around week 12) and then taper off steadily afterwards.\nHowever, cravings for unusual non-food items such as gasoline smell, dirt, chalk, etc., a condition often referred to as pica, peak much later, toward the end of pregnancy (around week 35). I haven’t seen any specific research on the timing of unusual cravings and pica during pregnancy, but if the pattern I observe here is real, it suggests that different mechanisms may be at play for food vs. non-food cravings during pregnancy.\nTechnical Details With these principles in mind, I had to work around several technical constraints. These limitations led me to precompute as much as possible and serve the tool as a static web app that offloads the remaining computation to the user’s browser.\nI reached a solution that used precomputed embeddings to create semantically homogeneous clusters of posts and used these clusters both as a way to summarize the data and as a way to carry out a high-recall retrieval layer for broad semantic queries (such as “husband” or “morning sickness” or “anxiety”). While keeping privacy-preserving post summaries for each post within the clusters allowed me to run a refined search layer over the retrieved clusters only, using a cross-encoder model to rerank posts based on user-provided refinement queries (such as “Is OP worried about miscarriage?”).\nThis approach is similar to Anthropic’s Clio, which clusters user queries and exposes only hierarchical, faceted summaries for exploration. I opted for a different tradeoff: rather than predefining drill-down facets, I wanted you to formulate your own questions and explore freely. This means the tool must handle arbitrary semantic queries at runtime — a harder problem, but one that lets you ask questions I never anticipated.\nPreprocessing Pipeline Step Tool Purpose PII Removal Microsoft Presidio First pass to remove names, locations, dates, and other sensitive information from the text Summarization gemma-3n-e4b-it Generate privacy-preserving post summaries that distill the essence while removing idiosyncratic details Embedding Qwen3-embedding-8b Convert post text into high-dimensional vectors that capture semantic meaning for similarity searches Dimensionality Reduction UMAP Project high-dimensional embeddings into 10D space for efficient clustering Clustering HDBSCAN Group similar posts together based on their embeddings to identify common themes Cluster Labeling gemma-3n-e4b-it Generate human-readable summaries for each cluster Raw Text ↓ Presidio PII Removal → Sanitized Text ↓ Gemma Summarization + KeyBERT[^1] Phrases → Privacy-Safe Summaries and key phrases ↓ Qwen3 Embeddings → 1024-dim Vectors ↓ UMAP Projection → 10D Vectors ↓ HDBSCAN Clustering → 3K+ Topic Clusters ↓ Gemma Labeling → Cluster Names \u0026 Descriptions Once the pipeline completes, raw text is discarded. The final dataset contains only sanitized summaries, embeddings, cluster labels, and gestational week metadata for each post.\nExample: Privacy-Preserving Summarization Here’s an artificial example to illustrate how the summarization process works:\nRaw post: “I hate my MIL’s dog: Hi everyone, I’m 25 weeks pregnant. Yesterday my mother-in-law Susan came over to help while my partner Jake was out. While I was trying to rest, her dog knocked over a few things in the living room, and I completely lost it and started crying. It wasn’t really about the mess—it just felt like too much at once. Has anyone else had an emotional reaction to something trivial during pregnancy?”\nAfter Presidio PII removal: “I hate my MIL’s dog: Hi everyone, I’m 25 weeks pregnant. Yesterday my mother-in-law [NAME] came over to help while my partner [NAME] was out. While I was trying to rest, her dog knocked over household items, and I became very upset. It wasn’t really about the incident—it just felt like too much at once. Has anyone else had an emotional reaction to something trivial during pregnancy?”\nFinal privacy-preserving summary (generated by gemma-3n-e4b-it):\n“OP feels upset by MIL’s dog” “OP feels overwhelmed by events” “OP experiences emotional reaction during pregnancy” This is the only information stored and sent to the user’s browser. Total cost was $0.0000439 for a single post, which amounts to less than $5 for 300K posts when we process in batches. To keep the data files under control, I randomly sampled 80000 post summaries.\nPipeline Details Text Sanitation: To ensure privacy, the first step of the pipeline uses Microsoft Presidio to remove personally identifiable information (PII) such as names, locations, and dates from the raw post texts. Presidio uses Spacy NER models to identify PII entities and replaces them with generic placeholders. I had to fine-tune Presidio’s configuration to minimize both false positives (over-redaction) of acronyms and forum-specific terms.\nEmbedding and Clustering: Post texts are represented using Qwen3-embedding-8b model via OpenRouter API. I truncated the embeddings to 1024 dimensions. Applied UMAP to reduce dimensionality to 10D for efficient clustering. Used HDBSCAN to cluster posts based on their embeddings.\nPost Phrase Extraction: Using KeyBERT, I extracted key phrases from each post to aid in interpretability and search. I filtered out phrases that were produced by fewer than 10 different authors to provide an additional layer of privacy and reduce noise.\nCluster Labeling: First, I treated each cluster as a single document by concatenating the posts and created c-TF-IDF based phrases to capture important themes. Then, I sampled representative posts from each cluster and together I sent sample posts and the top-scoring c-TF-IDF phrases to gemma-3n-e4b-it model and generated a short label and description for the cluster.\nArchitecture The webapp serves static files on Cloudflare Pages with API calls proxied through a Cloudflare Worker (to protect API keys for OpenRouter embeddings and Novita AI reranking). In case of API errors, the app falls back to simple keyword matching over cluster titles and summaries.\nUser Browser | +-- Static Files (Cloudflare Pages) | \\-- pregnancy.herdagdelen.com | \\-- API Calls +-- /api/embed -\u003e OpenRouter (embeddings) \\-- /api/rerank -\u003e Novita AI (reranking) | Cloudflare Worker (protects my API keys) Precomputation of 300K+ posts takes several hours on my old laptop and costs around $5 in API usage fees.\n","wordCount":"1879","inLanguage":"en","datePublished":"2026-01-06T00:00:00Z","dateModified":"2026-01-06T00:00:00Z","author":{"@type":"Person","name":"Amaç Herdağdelen"},"mainEntityOfPage":{"@type":"WebPage","@id":"//www.herdagdelen.com/notes/pregnancy-timeline-trends/"},"publisher":{"@type":"Organization","name":"","logo":{"@type":"ImageObject","url":"//www.herdagdelen.com/favicon.ico"}}}</script><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w==" crossorigin=anonymous referrerpolicy=no-referrer></head><body id=top><header class=header><nav class=nav><div class=logo><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=//www.herdagdelen.com/ title=home><span>home</span></a></li><li><a href=//www.herdagdelen.com/isimler/ title=isimler><span>isimler</span></a></li><li><a href=//www.herdagdelen.com/notes/ title=notes><span>notes</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=//www.herdagdelen.com/>Home</a>&nbsp;»&nbsp;<a href=//www.herdagdelen.com/notes/>Notes</a></div><h1 class="post-title entry-hint-parent">Pregnancy Timeline Trends</h1><div class=post-meta><span title='2026-01-06 00:00:00 +0000 UTC'>January 6, 2026</span>&nbsp;·&nbsp;<span>Amaç Herdağdelen</span></div></header><div class=post-content><p><strong>Live demo:</strong> <a href=https://pregnancy.herdagdelen.com>pregnancy.herdagdelen.com</a></p><p>This is a project that has been on my mind for 14 years, ever since we were expecting our first child in 2012. The idea is to create an interactive tool that allows us to explore what topics expecting parents discuss over the course of a pregnancy. I wanted to see how the emotions, concerns, information needs, and experiences of expecting parents evolve from conception to birth and into the early months of parenthood. The underlying data comes from public pregnancy discussion forums where posts are organized by gestational week.</p><p>So what do these discussions actually look like across pregnancy? Let&rsquo;s start with an example.</p><h2 id=the-tool-in-action>The Tool in Action<a hidden class=anchor aria-hidden=true href=#the-tool-in-action>#</a></h2><p>Here is how the volume of discussions expressing anxiety changes over the course of pregnancy:</p><p><img alt="Anxiety discussions over pregnancy timeline" loading=lazy src=/images/notes/image-5.png></p><p>(click here to see the <a href="https://pregnancy.herdagdelen.com/#q=anxiety">live version</a>)</p><p>We immediately see two peaks of anxiety-related discussions: one around weeks 5-8, which corresponds to the highest risk period for miscarriage, and another right before the due date, dropping sharply after birth.</p><h3 id=how-it-works>How It Works<a hidden class=anchor aria-hidden=true href=#how-it-works>#</a></h3><p>The tool works by searching over clusters of semantically similar posts rather than individual posts. I&rsquo;ve organized the 300K+ posts into about 3,000 topical clusters, each grouping discussions around specific themes that tend to emerge at particular stages of pregnancy. Below are a few example clusters with their LLM-generated labels and summaries:</p><div style="display:grid;grid-template-columns:1fr 1fr;gap:10px"><img src=/images/notes/image-1.png alt="Cluster example 1">
<img src=/images/notes/image-2.png alt="Cluster example 2">
<img src=/images/notes/image-3.png alt="Cluster example 3">
<img src=/images/notes/image-4.png alt="Cluster example 4"></div><p>When you enter a broad query like &ldquo;anxiety&rdquo;, the tool finds clusters whose semantic meaning is close to your query (using cosine similarity between query and cluster embeddings). It then counts how many posts appear in those clusters at each gestational week, producing the timeline visualization we saw above. During this process the system never has to look at individual posts, making it fast, efficient, and privacy-friendly.</p><h3 id=refined-search>Refined Search<a hidden class=anchor aria-hidden=true href=#refined-search>#</a></h3><p>However, just seeing the evolution of a broad topic is not enough. I want to see how different sentiments or contexts around &ldquo;anxiety&rdquo; change over time. For this, you can run a refined search over LLM-generated, stylistic summaries of posts within the retrieved clusters only. For example, you can ask &ldquo;Is OP worried about miscarriage?&rdquo; and get an estimate of how many posts within the &ldquo;anxiety&rdquo; clusters match the refined query over time:</p><p><img alt="Refined search for miscarriage worries" loading=lazy src=/images/notes/image-6.png></p><p>(<a href="https://pregnancy.herdagdelen.com/#q=anxiety&amp;r=Is+OP+worried+about+miscarriage%3F&amp;sel=551%2C675%2C1066%2C947%2C1080%2C1252%2C1289%2C461%2C308%2C44%2C841%2C2025%2C1276%2C1239%2C1665%2C2010%2C2401%2C1377%2C271%2C163%2C623%2C139%2C315%2C566%2C577%2C764%2C1000%2C1212%2C1221%2C1246%2C1277%2C1560%2C1643%2C1711%2C1720%2C1781%2C1957%2C2093%2C2229%2C2244%2C2325%2C2335%2C2352%2C2358%2C2367%2C2542">Link to this search</a>)</p><p>We can see that worries about miscarriage peak sharply around weeks 6-8, which aligns with medical knowledge about miscarriage risks. After week 12, such worries drop off significantly. And the second mode of anxiety we saw before birth is absent here, indicating that those late-pregnancy anxieties are about different topics.</p><p>To explore another source of anxiety, you can ask &ldquo;Is OP worried about c-section?&rdquo; and see how that concern evolves over pregnancy:</p><p><img alt="Further refined search for c-section worries" loading=lazy src=/images/notes/image-7.png></p><p>(<a href="https://pregnancy.herdagdelen.com/#q=anxiety&amp;r=Is+OP+worried+about+c-section%3F&amp;sel=551%2C675%2C1066%2C947%2C1080%2C1252%2C1289%2C461%2C308%2C44%2C841%2C2025%2C1276%2C1239%2C1665%2C2010%2C2401%2C1377%2C271%2C163%2C623%2C139%2C315%2C566%2C577%2C764%2C1000%2C1212%2C1221%2C1246%2C1277%2C1560%2C1643%2C1711%2C1720%2C1781%2C1957%2C2093%2C2229%2C2244%2C2325%2C2335%2C2352%2C2358%2C2367%2C2542">Link to this search</a>)</p><p>Due to the limitations of the cross-encoder reranker models, we see there are some early-pregnancy posts that are incorrectly matched to the refined query. But, the tool allows you to select/deselect specific clusters and get more precise estimates while building confidence (or, if the model cannot capture the nuance, reducing the risk of being misled).</p><h2 id=design-principles>Design Principles<a hidden class=anchor aria-hidden=true href=#design-principles>#</a></h2><p>Now that we have seen what the tool does, here are the three core principles that shaped its design:</p><ol><li><p><strong>Privacy-first:</strong> Even though the data is based on public pregnancy forums, I wanted to ensure that personally identifiable information is neither exposed nor stored in the tool once preprocessing is complete.</p></li><li><p><strong>Honesty and Transparency:</strong> The tool involves embeddings, dimensionality reduction, clustering, cross-encoder models, and other statistical estimation &ndash; techniques that add extra layers of inferential processing between the raw data and the final results which are prone to errors. I wanted to build a tool that did not hide its mistakes, but instead makes its limitations explicit to the user.</p></li><li><p><strong>Cheap if not Free:</strong> I don&rsquo;t want to pay for or maintain a server for this. That leaves out solutions that require a backend, limiting computation locally and offline.</p></li></ol><p>In practice, here&rsquo;s how these principles manifest in the tool:</p><ul><li><p>By using LLM-generated summaries of sanitized post texts which were themselves generated via a privacy-preserving preprocessing pipeline, I can ensure the data sent to your browser does not contain any personally identifiable information.</p></li><li><p>By providing uncertainty estimates and showing example post summaries, and allowing you to select/deselect specific clusters from the interface, the tool maintains transparency about its limitations and allows you to make informed judgments about the results. If the reranker model is not capturing the nuance of your refined query well, you can see this from the example summaries and adjust your query or cluster selection accordingly.</p></li><li><p>This two-stage retrieval and refinement approach allows the tool to run efficiently in the browser without a backend server. For a tool that allows exploring a 300K+ post dataset with complex semantic queries, the system only needs to send less than 40MB of precomputed data (embeddings, cluster labels, post summaries, gestational week metadata) to your browser once. Subsequently a broad query only requires one API call to OpenRouter to get query embedding and a refinement query usually costs fractions of a cent in OpenRouter embedding and Novita AI cross-encoder API calls.</p></li></ul><h2 id=conclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#conclusion>#</a></h2><p>Fourteen years after first wondering what was on other expectant parents’ minds, I finally have a tool to explore that question. Whether you’re curious about when certain concerns peak or how common your experience is, I hope this tool offers some insight. Here is one pattern I found particularly interesting: <em>pregnancy cravings</em>.</p><p><img alt=Cravings loading=lazy src=/images/notes/image-8.png></p><p>As expected, discussions about pregnancy cravings peak at the end of the first trimester (around week 12) and then taper off steadily afterwards.</p><p>However, <a href="https://pregnancy.herdagdelen.com/#q=cravings&amp;r=Does+OP+crave+non-food+smells+and+materials%3F&amp;s=peak-week-desc&amp;sel=2462%2C2177%2C2052%2C900%2C692">cravings for unusual non-food items</a> such as gasoline smell, dirt, chalk, etc., a condition often referred to as <a href=https://en.wikipedia.org/wiki/Pica_(disorder)>pica</a>, peak much later, toward the end of pregnancy (around week 35). I haven&rsquo;t seen any specific research on the timing of unusual cravings and pica during pregnancy, but if the pattern I observe here is real, it suggests that different mechanisms may be at play for food vs. non-food cravings during pregnancy.</p><p><img alt="Unusual cravings" loading=lazy src=/images/notes/image-9.png></p><h2 id=technical-details>Technical Details<a hidden class=anchor aria-hidden=true href=#technical-details>#</a></h2><p>With these principles in mind, I had to work around several technical constraints. These limitations led me to precompute as much as possible and serve the tool as a static web app that offloads the remaining computation to the user&rsquo;s browser.</p><p>I reached a solution that used precomputed embeddings to create semantically homogeneous clusters of posts and used these clusters both as a way to summarize the data and as a way to carry out a high-recall retrieval layer for broad semantic queries (such as &ldquo;husband&rdquo; or &ldquo;morning sickness&rdquo; or &ldquo;anxiety&rdquo;). While keeping privacy-preserving post summaries for each post within the clusters allowed me to run a refined search layer over the retrieved clusters only, using a cross-encoder model to rerank posts based on user-provided refinement queries (such as &ldquo;Is OP worried about miscarriage?&rdquo;).</p><p>This approach is similar to Anthropic&rsquo;s <a href=https://www.anthropic.com/research/clio>Clio</a>, which clusters user queries and exposes only hierarchical, faceted summaries for exploration. I opted for a different tradeoff: rather than predefining drill-down facets, I wanted you to formulate your own questions and explore freely. This means the tool must handle arbitrary semantic queries at runtime — a harder problem, but one that lets you ask questions I never anticipated.</p><h3 id=preprocessing-pipeline>Preprocessing Pipeline<a hidden class=anchor aria-hidden=true href=#preprocessing-pipeline>#</a></h3><table><thead><tr><th>Step</th><th>Tool</th><th>Purpose</th></tr></thead><tbody><tr><td><strong>PII Removal</strong></td><td>Microsoft Presidio</td><td>First pass to remove names, locations, dates, and other sensitive information from the text</td></tr><tr><td><strong>Summarization</strong></td><td>gemma-3n-e4b-it</td><td>Generate privacy-preserving post summaries that distill the essence while removing idiosyncratic details</td></tr><tr><td><strong>Embedding</strong></td><td>Qwen3-embedding-8b</td><td>Convert post text into high-dimensional vectors that capture semantic meaning for similarity searches</td></tr><tr><td><strong>Dimensionality Reduction</strong></td><td>UMAP</td><td>Project high-dimensional embeddings into 10D space for efficient clustering</td></tr><tr><td><strong>Clustering</strong></td><td>HDBSCAN</td><td>Group similar posts together based on their embeddings to identify common themes</td></tr><tr><td><strong>Cluster Labeling</strong></td><td>gemma-3n-e4b-it</td><td>Generate human-readable summaries for each cluster</td></tr></tbody></table><pre tabindex=0><code>Raw Text
    ↓
Presidio PII Removal → Sanitized Text
    ↓
Gemma Summarization + KeyBERT[^1] Phrases → Privacy-Safe Summaries and key phrases
    ↓
Qwen3 Embeddings → 1024-dim Vectors
    ↓
UMAP Projection → 10D Vectors
    ↓
HDBSCAN Clustering → 3K+ Topic Clusters
    ↓
Gemma Labeling → Cluster Names &amp; Descriptions
</code></pre><p>Once the pipeline completes, raw text is discarded. The final dataset contains only sanitized summaries, embeddings, cluster labels, and gestational week metadata for each post.</p><h3 id=example-privacy-preserving-summarization>Example: Privacy-Preserving Summarization<a hidden class=anchor aria-hidden=true href=#example-privacy-preserving-summarization>#</a></h3><p>Here&rsquo;s an artificial example to illustrate how the summarization process works:</p><p><strong>Raw post:</strong> &ldquo;I hate my MIL&rsquo;s dog: Hi everyone, I&rsquo;m 25 weeks pregnant. Yesterday my mother-in-law Susan came over to help while my partner Jake was out. While I was trying to rest, her dog knocked over a few things in the living room, and I completely lost it and started crying. It wasn&rsquo;t really about the mess—it just felt like too much at once. Has anyone else had an emotional reaction to something trivial during pregnancy?&rdquo;</p><p><strong>After Presidio PII removal:</strong> &ldquo;I hate my MIL&rsquo;s dog: Hi everyone, I&rsquo;m 25 weeks pregnant. Yesterday my mother-in-law [NAME] came over to help while my partner [NAME] was out. While I was trying to rest, her dog knocked over household items, and I became very upset. It wasn&rsquo;t really about the incident—it just felt like too much at once. Has anyone else had an emotional reaction to something trivial during pregnancy?&rdquo;</p><p><strong>Final privacy-preserving summary (generated by gemma-3n-e4b-it):</strong></p><ul><li>&ldquo;OP feels upset by MIL&rsquo;s dog&rdquo;</li><li>&ldquo;OP feels overwhelmed by events&rdquo;</li><li>&ldquo;OP experiences emotional reaction during pregnancy&rdquo;</li></ul><p>This is the only information stored and sent to the user&rsquo;s browser. Total cost was $0.0000439 for a single post, which amounts to less than $5 for 300K posts when we process in batches. To keep the data files under control, I randomly sampled 80000 post summaries.</p><h3 id=pipeline-details>Pipeline Details<a hidden class=anchor aria-hidden=true href=#pipeline-details>#</a></h3><p><strong>Text Sanitation:</strong> To ensure privacy, the first step of the pipeline uses Microsoft Presidio to remove personally identifiable information (PII) such as names, locations, and dates from the raw post texts. Presidio uses Spacy NER models to identify PII entities and replaces them with generic placeholders. I had to fine-tune Presidio&rsquo;s configuration to minimize both false positives (over-redaction) of acronyms and forum-specific terms.</p><p><strong>Embedding and Clustering:</strong> Post texts are represented using Qwen3-embedding-8b model via OpenRouter API. I truncated the embeddings to 1024 dimensions. Applied UMAP to reduce dimensionality to 10D for efficient clustering. Used HDBSCAN to cluster posts based on their embeddings.</p><p><strong>Post Phrase Extraction:</strong> Using KeyBERT, I extracted key phrases from each post to aid in interpretability and search. I filtered out phrases that were produced by fewer than 10 different authors to provide an additional layer of privacy and reduce noise.</p><p><strong>Cluster Labeling:</strong> First, I treated each cluster as a single document by concatenating the posts and created c-TF-IDF based phrases to capture important themes. Then, I sampled representative posts from each cluster and together I sent sample posts and the top-scoring c-TF-IDF phrases to gemma-3n-e4b-it model and generated a short label and description for the cluster.</p><h3 id=architecture>Architecture<a hidden class=anchor aria-hidden=true href=#architecture>#</a></h3><p>The webapp serves static files on Cloudflare Pages with API calls proxied through a Cloudflare Worker (to protect API keys for OpenRouter embeddings and Novita AI reranking). In case of API errors, the app falls back to simple keyword matching over cluster titles and summaries.</p><pre tabindex=0><code>User Browser
    |
    +-- Static Files (Cloudflare Pages)
    |   \-- pregnancy.herdagdelen.com
    |
    \-- API Calls
        +-- /api/embed -&gt; OpenRouter (embeddings)
        \-- /api/rerank -&gt; Novita AI (reranking)
            |
        Cloudflare Worker (protects my API keys)
</code></pre><p>Precomputation of 300K+ posts takes several hours on my old laptop and costs around $5 in API usage fees.</p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=next href=//www.herdagdelen.com/notes/persona-prompts-diversity/><span class=title>Next »</span><br><span>The effect of zodiac signs on LLM response diversity</span></a></nav><ul class=share-buttons><li><a target=_blank rel="noopener noreferrer" aria-label="share Pregnancy Timeline Trends on x" href="https://x.com/intent/tweet/?text=Pregnancy%20Timeline%20Trends&amp;url=%2f%2fwww.herdagdelen.com%2fnotes%2fpregnancy-timeline-trends%2f&amp;hashtags="><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446C483.971.0 512 28.03 512 62.554zM269.951 190.75 182.567 75.216H56L207.216 272.95 63.9 436.783h61.366L235.9 310.383l96.667 126.4H456L298.367 228.367l134-153.151H371.033zM127.633 110h36.468l219.38 290.065H349.5z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Pregnancy Timeline Trends on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=%2f%2fwww.herdagdelen.com%2fnotes%2fpregnancy-timeline-trends%2f&amp;title=Pregnancy%20Timeline%20Trends&amp;summary=Pregnancy%20Timeline%20Trends&amp;source=%2f%2fwww.herdagdelen.com%2fnotes%2fpregnancy-timeline-trends%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Pregnancy Timeline Trends on reddit" href="https://reddit.com/submit?url=%2f%2fwww.herdagdelen.com%2fnotes%2fpregnancy-timeline-trends%2f&title=Pregnancy%20Timeline%20Trends"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Pregnancy Timeline Trends on facebook" href="https://facebook.com/sharer/sharer.php?u=%2f%2fwww.herdagdelen.com%2fnotes%2fpregnancy-timeline-trends%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Pregnancy Timeline Trends on whatsapp" href="https://api.whatsapp.com/send?text=Pregnancy%20Timeline%20Trends%20-%20%2f%2fwww.herdagdelen.com%2fnotes%2fpregnancy-timeline-trends%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Pregnancy Timeline Trends on telegram" href="https://telegram.me/share/url?text=Pregnancy%20Timeline%20Trends&amp;url=%2f%2fwww.herdagdelen.com%2fnotes%2fpregnancy-timeline-trends%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentColor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></li><li><a target=_blank rel="noopener noreferrer" aria-label="share Pregnancy Timeline Trends on ycombinator" href="https://news.ycombinator.com/submitlink?t=Pregnancy%20Timeline%20Trends&u=%2f%2fwww.herdagdelen.com%2fnotes%2fpregnancy-timeline-trends%2f"><svg width="30" height="30" viewBox="0 0 512 512" fill="currentColor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554V449.446C512 483.97 483.97 512 449.446 512H62.554C28.03 512 0 483.97.0 449.446V62.554C0 28.03 28.029.0 62.554.0H449.446zM183.8767 87.9921h-62.034L230.6673 292.4508V424.0079h50.6655V292.4508L390.1575 87.9921H328.1233L256 238.2489z"/></svg></a></li></ul></footer></article></main><footer class=footer><span>&copy; 2026 <a href=//www.herdagdelen.com/></a></span>·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
<a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>